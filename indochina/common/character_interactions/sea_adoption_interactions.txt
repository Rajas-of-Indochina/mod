
adoption_interaction = {
	icon = child
	category = interaction_category_diplomacy
	common_interaction = yes

	desc = adoption_interaction_desc

	is_shown = {
		NOT = {
			# Medieval Christian Europe did not approve of having unrelated children
			religion = religion:christianity_religion
		}

		scope:recipient = {
			is_adult = no
			is_courtier_of = scope:actor
			OR = {
				NOT = {
					exists = mother
					exists = father
				}
				AND = {
					scope:actor = { is_male = yes }
					father = {
						dynasty = prev.dynasty
						is_alive = no
					}
				}
				AND = {
					scope:actor = { is_female = yes }
					mother = {
						dynasty = prev.dynasty
						is_alive = no
					}
				}
			}
		}
	}

	on_auto_accept = {
	}

	on_accept = {
		scope:actor = {
			every_child = {
				add_opinion = {
					target = prev
					modifier = envy_opinion
					opinion = -20
				}
			}
		}
		scope:recipient = {
			if = {
				limit = {
					scope:actor = { is_male = yes }
				}
				set_father = scope:actor
			}
			else = {
				set_mother = scope:actor
			}

			if = {
				limit = {
					NOR = {
						# Islam and Judaism were okay with adoption but insisted that they not be considered the same as one's own children
						has_religion = religion:islam_religion
						has_religion = religion:judaism_religion
					}
				}
				set_house = scope:actor.house
			}

			add_trait = adopted
		}
	}

	auto_accept = yes
}
