on_game_start = {
	on_actions = {
		armenianmerchants_action
		ildeguzids_action
		roa_gold_give
		#roa_caucasus_misc_effects_867
	}
}

on_birthday = {
   on_actions = { 
	thamade_action 
	avar_nutsal_action
	rum_sultan_nickname_action
}
}

on_birth_child = {
	events = {
		caucasianroa.017
	}
}

thamade_action = {
    trigger = {
	OR = {
		is_ai = yes
		is_courtier = yes
	}
	culture = {
		OR = {
			has_cultural_pillar = heritage_aghvank
			has_cultural_pillar = heritage_ciscaucasian
		}
	}
	age > 50
	OR = {
			has_trait = honest
			has_trait = brave
			has_trait = forgiving
			has_trait = generous
			has_trait = just
			has_trait = patient
			has_trait = compassionate
	}
		NOT = {
			OR = {
				has_trait = thamade
				has_trait = sadistic
				has_trait = greedy
				has_trait = callous
				has_trait = craven
				has_trait = lustful
				has_trait = lazy
				has_trait = deceitful
				has_trait = impatient
				has_trait = shy
				has_trait = paranoid
				has_trait = intellect_bad
				has_trait = intellect_bad_2
				has_trait = intellect_bad_3
				has_trait = torturer
				has_trait = adulterer
				has_trait = murderer
				has_trait = deviant
				has_trait = sodomite
				has_trait = lunatic
				has_trait = kinslayer_1
				has_trait = kinslayer_2
				has_trait = kinslayer_3
				has_trait = incestuous
				has_trait = cannibal
				has_trait = murderer
				has_trait = drunkard
				has_trait = flagellant
				has_trait = contrite
				has_trait = reclusive
				has_trait = irritable
				has_trait = rakish
				has_trait = hashishiyah
				has_trait = irritable
				has_trait = incapable
			}
		}
	}
    effect = {
		add_trait = thamade
    }
}

armenianmerchants_action = {
	effect = {
		set_global_variable = {
			name = armenian_merchants
			value = 0
		}
	}
}

ildeguzids_action = {
	effect = {
	   character:144051 = {
			set_culture = culture:kipchak 
	   }
	   character:144052 = {
		   set_culture = culture:kipchak 
	   }
	   character:225015 = {
		   set_culture = culture:kipchak 
	   }
	   character:ildeguzid_1 = {
		   set_culture = culture:kipchak 
	   }
	   character:ildeguzid_2 = {
		   set_culture = culture:kipchak 
	   }
	   character:ildeguzid_3 = {
		   set_culture = culture:kipchak 
	   }
	   character:93295 = {
		   set_culture = culture:kipchak 
	   }
	   character:93296 = {
		   set_culture = culture:kipchak 
	   }
	   character:93297 = {
		   set_culture = culture:kipchak 
	   }
	   character:93298 = {
		   set_culture = culture:kipchak 
	   }
	   character:93296= {
		   set_culture = culture:persian 
	   }
}
}

avar_nutsal_action = {
	trigger = {
		title:k_sarir = {
			exists = holder
			holder ?= {
				has_any_nickname = no
				religion = religion:islam_religion
				culture = { has_cultural_pillar = name_list_avaric }
				NOT = { has_variable = avar_nutsal_flag }
			}
		}
	}
	effect = {
		title:k_sarir_roa.holder = {
			random_list = {
				200 = { }
				50 = { give_nickname = ROA_nick_abbas }
				50 = { give_nickname = ROA_nick_ibrahim }
				50 = { give_nickname = ROA_nick_muhammad }
				50 = { give_nickname = ROA_nick_hamza }
				50 = { give_nickname = ROA_nick_shaban }
				50 = { give_nickname = ROA_nick_ahmad }
				50 = { give_nickname = ROA_nick_mahdi }
				50 = { give_nickname = ROA_nick_hussein }
				50 = { give_nickname = ROA_nick_ali }
				50 = { give_nickname = ROA_nick_mahmud }
				50 = { give_nickname = ROA_nick_abulhassan }
				50 = { give_nickname = ROA_nick_akbar }
				50 = { give_nickname = ROA_nick_allahyar }
				50 = { give_nickname = ROA_nick_amin }
				50 = { give_nickname = ROA_nick_assad }
				50 = { give_nickname = ROA_nick_davud }
				50 = { give_nickname = ROA_nick_iskander }
				50 = { give_nickname = ROA_nick_ismail }
				50 = { give_nickname = ROA_nick_jahanshah }
				50 = { give_nickname = ROA_nick_jamshid }
				50 = { give_nickname = ROA_nick_javad }
				50 = { give_nickname = ROA_nick_khosro }
				50 = { give_nickname = ROA_nick_khudayar }
				50 = { give_nickname = ROA_nick_khurshid }
				50 = { give_nickname = ROA_nick_mustafa }
				50 = { give_nickname = ROA_nick_muzaffar }
				50 = { give_nickname = ROA_nick_suleyman }				
				25 = { give_nickname = ROA_nick_amirsultan }
				25 = { give_nickname = ROA_nick_amir_hamza }
				25 = { give_nickname = ROA_nick_muhammad_shah }
				25 = { give_nickname = ROA_nick_sultan_shah }
				25 = { give_nickname = ROA_nick_mahmud_khan }
				25 = { give_nickname = ROA_nick_ali_bek }
			}
			set_variable = avar_nutsal_flag
		}
	}
}

roa_gold_give = {
	effect = {
		title:c_derbent.holder = {
			add_gold = 50			
			add_trait = content
		}
	}	
}

rum_sultan_nickname_action = {
	trigger = {
		title:k_rum = {
			exists = holder
			holder ?= {
				has_any_nickname = no
				religion = religion:islam_religion
				NOT = { has_variable = rum_sultan_nickname_flag }
				house = house:house_seljuk
			}
		}
	}
	effect = {
		title:k_rum.holder = {
			random_list = {
				500 = { give_nickname = nick_rukn_al_din }
				500 = { give_nickname = nick_izz_al_din }
				500 = { give_nickname = nick_ala_al_din }
				500 = { give_nickname = nick_ghiyath_al_din }
				50 = { give_nickname = ROA_nick_shuja_al_din }
				50 = { give_nickname = nick_alam_al_din }		
				50 = { give_nickname = nick_asad_al_din }
				50 = { give_nickname = nick_badr_al_din }
				50 = { give_nickname = nick_baha_al_din }
				50 = { give_nickname = nick_fakhr_al_din }
				50 = { give_nickname = nick_ikhtiyar_al_din }
				50 = { give_nickname = nick_imad_al_dawla }
				50 = { give_nickname = nick_imad_al_din }
				50 = { give_nickname = nick_jalal_al_din }
				50 = { give_nickname = nick_kanz_al_dawla }
				50 = { give_nickname = nick_majd_al_din }
				50 = { give_nickname = nick_mu_izz_al_din }
				50 = { give_nickname = nick_muayyad_al_din }
				50 = { give_nickname = nick_muayyid_al_din }
				50 = { give_nickname = nick_mubaraz_al_din }
				50 = { give_nickname = nick_muhyi_al_din }
				50 = { give_nickname = nick_muzaffar_al_din }
				50 = { give_nickname = nick_najm_al_din }
				50 = { give_nickname = nick_nasir_al_din }
				50 = { give_nickname = nick_nizam_al_din }
				50 = { give_nickname = nick_nur_al_din }
				50 = { give_nickname = nick_qutb_al_din }
				50 = { give_nickname = nick_rashid_al_din }
				50 = { give_nickname = nick_sayf_al_din }
				50 = { give_nickname = nick_sayf_al_islam }
				50 = { give_nickname = nick_shams_al_din }
				50 = { give_nickname = nick_sharaf_al_din }
				50 = { give_nickname = nick_taj_al_din }
				50 = { give_nickname = nick_yumm_al_din }
				50 = { give_nickname = nick_zahir_al_din }
				50 = { give_nickname = nick_zayn_al_din }
			}
			set_variable = rum_sultan_nickname_flag
		}
	}
}