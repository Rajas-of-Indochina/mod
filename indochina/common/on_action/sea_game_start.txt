# Called from code after history generation
# Empty scope
on_game_start = {
	on_actions = {
		set_tributaries_on_game_start
		nerf_philippines_and_east_nusantara_on_game_start
		holy_site_buildings_on_game_start
	}
	events = {
		rivers_events.0001
	}
}

nerf_philippines_and_east_nusantara_on_game_start = {

	effect = {

		every_county = {
			limit = {
				title_province = {
					OR = {
						geographical_region = world_east_nusantara
						geographical_region = world_philippines
						geographical_region = world_sulawesi
					}
				}
			}
			add_county_modifier = {
				modifier = sea_underpopulated_modifier
			}
		}
	}
}

holy_site_buildings_on_game_start = {

	effect = {
		every_religion_global = {
			limit = {
				is_in_family = rf_animism
			}
			every_faith = {
				every_holy_site = {
					limit = {
						title_province = {
							has_special_building_slot = no
						}
					}
					title_province = {
						add_special_building_slot = holy_site_pagan_grand_temple_01 # Should make a unique version of this for animists
					}
				}
			}
		}
	}
}

set_tributaries_on_game_start = {

	effect = {

		## Set tributaries
		# Srivijaya
		make_tributary = {
			TYPE = tributary_permanent
			SUZERAIN = title:e_srivijaya.holder
			TRIBUTARY = title:d_tanjungpura.holder
		}
		make_tributary = {
			TYPE = tributary_permanent
			SUZERAIN = title:e_srivijaya.holder
			TRIBUTARY = title:c_panai.holder
		}
		make_tributary = {
			TYPE = tributary_permanent
			SUZERAIN = title:e_srivijaya.holder
			TRIBUTARY = title:c_nagur.holder
		}
		make_tributary = {
			TYPE = tributary_permanent
			SUZERAIN = title:e_srivijaya.holder
			TRIBUTARY = title:d_lamuri.holder
		}
		make_tributary = {
			TYPE = tributary_permanent
			SUZERAIN = title:e_srivijaya.holder
			TRIBUTARY = title:d_wijayapura.holder
		}
		# Nanzhao
		make_tributary = {
			TYPE = tributary_permanent
			SUZERAIN = title:d_myitkyina.holder
			TRIBUTARY = title:c_mongyang.holder
		}
		make_tributary = {
			TYPE = tributary_permanent
			SUZERAIN = title:d_yongchang.holder
			TRIBUTARY = title:c_putao.holder
		}
		# Beikthano
		make_tributary = {
			TYPE = tributary_permanent
			SUZERAIN = title:c_beikthano.holder
			TRIBUTARY = title:c_magwe.holder
		}
		# Shan
		make_tributary = {
			TYPE = tributary_permanent
			SUZERAIN = title:d_yawnghwe.holder
			TRIBUTARY = title:c_yawnghwe.holder
		}
		make_tributary = {
			TYPE = tributary_permanent
			SUZERAIN = title:c_laikha.holder
			TRIBUTARY = title:c_mongkung.holder
		}
		make_tributary = {
			TYPE = tributary_permanent
			SUZERAIN = title:d_north_shan.holder
			TRIBUTARY = title:c_manglon.holder
		}
		make_tributary = {
			TYPE = tributary_permanent
			SUZERAIN = title:d_kengtung.holder
			TRIBUTARY = title:c_chiang_hung.holder
		}
		make_tributary = {
			TYPE = tributary_permanent
			SUZERAIN = title:c_chiang_hung.holder
			TRIBUTARY = title:c_meng_laa.holder
		}
		# Mon		
		make_tributary = {
			TYPE = tributary_permanent
			SUZERAIN = title:d_thaton.holder
			TRIBUTARY = title:c_pegu.holder
		}
		make_tributary = {
			TYPE = tributary_permanent
			SUZERAIN = title:c_hpa_an.holder
			TRIBUTARY = title:c_kawkareik.holder
		}
		make_tributary = {
			TYPE = tributary_permanent
			SUZERAIN = title:d_thaton.holder
			TRIBUTARY = title:c_hpapun.holder
		}
		

		# Kambuja
		make_tributary = {
			TYPE = tributary_permanent
			SUZERAIN = title:e_kambujadesa.holder
			TRIBUTARY = title:d_nakhon_phanom.holder
		}

		# Annam
		make_tributary = {
			TYPE = tributary_permanent
			SUZERAIN = title:k_annam.holder
			TRIBUTARY = title:d_nong.holder
		}
		make_tributary = {
			TYPE = tributary_permanent
			SUZERAIN = title:k_annam.holder
			TRIBUTARY = title:c_tu_long.holder
		}
		make_tributary = {
			TYPE = tributary_permanent
			SUZERAIN = title:k_annam.holder
			TRIBUTARY = title:c_thuy_vi.holder
		}
		make_tributary = {
			TYPE = tributary_permanent
			SUZERAIN = title:k_annam.holder
			TRIBUTARY = title:c_lo.holder
		}
		make_tributary = {
			TYPE = tributary_permanent
			SUZERAIN = title:k_annam.holder
			TRIBUTARY = title:c_tra_lan.holder
		}
		make_tributary = {
			TYPE = tributary_permanent
			SUZERAIN = title:k_annam.holder
			TRIBUTARY = title:c_quynh_nhai.holder
		}
		make_tributary = {
			TYPE = tributary_permanent
			SUZERAIN = title:k_annam.holder
			TRIBUTARY = title:c_yen_lo.holder
		}
	}
}