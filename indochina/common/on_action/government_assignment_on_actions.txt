on_game_start = {
	on_actions = {
		on_government_assign_start
		on_nomadic_holding_assign_start
	}
}

on_government_assign_start = {
	effect = {
		set_global_variable = {
			name = Gov_is_loaded
			value = yes
		}
		every_ruler = {
			if = {
				limit = {
					has_government = tribal_government
					exists = capital_county
					culture = { has_cultural_tradition = tradition_horse_lords }
					NOT = { culture = culture:tuyuhun }
				}
				change_government = nomadic_government
			}
			if = {
				limit = {
					exists = capital_county
					OR = {
						culture = culture:uyghur
						culture = culture:kirghiz
					}
				}
				if = {
					limit = { game_start_date < 877.1.1 }
					change_government = nomadic_government
				}
				else = {
					change_government = clan_government
				}
			}
			if = {
				limit = {
					exists = capital_county
					capital_county.title_province = { geographical_region = world_southeast_asia }
					has_government = feudal_government
					OR = {
						religion = religion:hinduism_religion
						religion = religion:buddhism_religion
						religion = religion:jainism_religion
					}
					NOT = { faith = faith:lamaism }
				}
				change_government = mandala_government

				every_vassal = {
					limit = {
						highest_held_title_tier = tier_barony
						OR = {
							has_government = feudal_government
							has_government = republic_government
						}
					}
					change_government = mandala_government
				}
			}
			if = {
				limit = {
					exists = capital_county
					capital_county.title_province = { geographical_region = world_india }
					has_government = feudal_government
					OR = {
						culture = { has_cultural_pillar = heritage_indo_aryan }
						culture = { has_cultural_pillar = heritage_dravidian }
						culture = { has_cultural_pillar = heritage_burman }
					}
					OR = {
						religion = religion:hinduism_religion
						religion = religion:buddhism_religion
						religion = religion:jainism_religion
					}
					NOT = { faith = faith:lamaism }
				}
				change_government = mandala_government

				every_vassal = {
					limit = {
						highest_held_title_tier = tier_barony
						OR = {
							has_government = feudal_government
							has_government = republic_government
						}
					}
					change_government = mandala_government
				}
			}
			if = {
				limit = {
					has_government = chinese_government
					exists = liege
					NOT = { liege = this }
				}
				change_government = chinese_vassal_government
			}
		}
		every_ruler = {
			if = {
				limit = {
					has_government = nomadic_government
				}
				add_realm_law_skip_effects = nomadic_authority_0

				if = {
					limit = { has_realm_law = tribal_authority_0 }
					remove_realm_law = tribal_authority_0
				}
				if = {
					limit = { has_realm_law = tribal_authority_1 }
					remove_realm_law = tribal_authority_1
				}
				if = {
					limit = { has_realm_law = tribal_authority_2 }
					remove_realm_law = tribal_authority_2
				}
				if = {
					limit = { has_realm_law = tribal_authority_3 }
					remove_realm_law = tribal_authority_3
				}
			}
			else_if = {
				limit = {
					has_government = mandala_government
				}
				add_realm_law_skip_effects = mandala_authority_0

				if = {
					limit = { has_realm_law = crown_authority_0 }
					remove_realm_law = crown_authority_0
				}
				if = {
					limit = { has_realm_law = crown_authority_1 }
					remove_realm_law = crown_authority_1
				}
				if = {
					limit = { has_realm_law = crown_authority_2 }
					remove_realm_law = crown_authority_2
				}
				if = {
					limit = { has_realm_law = crown_authority_3 }
					remove_realm_law = crown_authority_3
				}
			}
		}
	}
}

on_nomadic_holding_assign_start = {
	effect = {
		every_ruler = {
			if = {
				limit = {
					has_government = nomadic_government
				}
				every_realm_province = {
					limit = { has_holding_type = tribal_holding }
					set_holding_type = nomadic_holding_empty
				}
				capital_province = {
					set_holding_type = nomadic_holding
				}
			}
		}
	}
}