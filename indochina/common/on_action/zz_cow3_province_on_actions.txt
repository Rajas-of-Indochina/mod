# root: The province in which the building was completed
on_building_completed = {
	on_actions = {
		slots_check_on_actions
	}
}

slots_check_on_actions = {
	effect = {
		root = {
				if = {
					limit = {
						has_building = castle_05
						building_slots = 5
					}
					save_scope_as = current_province
					county.holder = {
						send_interface_toast = {
							type = event_generic_good
							title = city_gained_building_slots
							left_icon = scope:current_province

							scope:current_province = { add_building_slot = 1 }
						}
					}
				}
				else_if = {
					limit = {
						has_building = castle_06
						building_slots = 6
					}
					save_scope_as = current_province
					county.holder = {
						send_interface_toast = {
							type = event_generic_good
							title = city_gained_building_slots
							left_icon = scope:current_province

							scope:current_province = { add_building_slot = 1 }
						}
					}
				}
				else_if = {
					limit = {
						has_building = castle_07
						building_slots = 7
					}
					save_scope_as = current_province
					county.holder = {
						send_interface_toast = {
							type = event_generic_good
							title = city_gained_building_slots
							left_icon = scope:current_province

							scope:current_province = { add_building_slot = 1 }
						}
					}
				}
				else_if = {
					limit = {
						has_building = tribe_03
						building_slots = 5
						building_common_tradeport_requirement_terrain = yes
					}
					save_scope_as = current_province
					county.holder = {
						send_interface_toast = {
							type = event_generic_good
							title = city_gained_building_slots
							left_icon = scope:current_province

							scope:current_province = { add_building_slot = 1 }
						}
					}
				}
				if = {
					limit = {
						has_building = city_05
						building_slots = 4
					}
					save_scope_as = current_province
					county.holder = {
						send_interface_toast = {
							type = event_generic_good
							title = city_gained_building_slots
							left_icon = scope:current_province

							scope:current_province = { add_building_slot = 1 }
						}
					}
				}
				else_if = {
					limit = {
						has_building = city_06
						building_slots = 5
					}
					save_scope_as = current_province
					county.holder = {
						send_interface_toast = {
							type = event_generic_good
							title = city_gained_building_slots
							left_icon = scope:current_province

							scope:current_province = { add_building_slot = 1 }
						}
					}
				}
				else_if = {
					limit = {
						has_building = city_07
						building_slots = 6
					}
					save_scope_as = current_province
					county.holder = {
						send_interface_toast = {
							type = event_generic_good
							title = city_gained_building_slots
							left_icon = scope:current_province

							scope:current_province = { add_building_slot = 1 }
						}
					}
				}
		}
	}
}