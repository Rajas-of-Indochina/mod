minimal_struggle_catalyst_loss = -1
minor_struggle_catalyst_loss = -3
medium_struggle_catalyst_loss = -5
major_struggle_catalyst_loss = -10
massive_struggle_catalyst_loss = -25


struggle_india_hindu_score = {
	value = 0
	every_county_in_region = {
		region = india_struggle_region
		# Involved Majority: Dev * 4
		if = {
			limit = {
				struggle:indian_struggle = {is_faith_involved_in_struggle = PREV.faith}
				religion = religion:hinduism_religion
			}
			add = {
				value = development_level
				multiply = 4
			}
		}
		# Involved Large Minority or Uninvolved Majority: 2 * Dev
		else_if = {
			limit = {
				OR = {
					has_involved_large_minority_faith_trigger = { RELIGION = religion:hinduism_religion }
					AND = {
						NOT = { struggle:indian_struggle = {is_faith_involved_in_struggle = PREV.faith} }
						religion = religion:hinduism_religion
					}
				}
			}
			add = {
				value = development_level
				multiply = 2
			}
		}
		# Involved Small Minority or Uninvolved Large Minority: 1 * Dev
		else_if = {
			limit = {
				OR = {
					has_involved_small_minority_faith_trigger = { RELIGION = religion:hinduism_religion }
					has_uninvolved_large_minority_faith_trigger = { RELIGION = religion:hinduism_religion }
				}
			}
			add = development_level
		}
		else_if = {
			limit = {
				has_uninvolved_small_minority_faith_trigger = { RELIGION = religion:hinduism_religion }
			}
			add = 1
		}
	}
	struggle:indian_struggle = {
		every_involved_ruler = {
			limit = {
				religion = religion:hinduism_religion
				is_independent_ruler = yes
			}
			every_realm_county = {
				limit = { title_province = { geographical_region = india_struggle_region } }
				add = 1
			}
		}
		every_interloper_ruler = {
			limit = {
				religion = religion:hinduism_religion
				is_independent_ruler = yes
			}
			add = {
				value = 0
				every_realm_county = {
					limit = { title_province = { geographical_region = india_struggle_region } }
					add = 1
				}
				divide = 2
			}
		}
	}
}

struggle_india_buddhist_score = {
	value = 0
	every_county_in_region = {
		region = india_struggle_region
		# Involved Majority: Dev * 4
		if = {
			limit = {
				struggle:indian_struggle = {is_faith_involved_in_struggle = PREV.faith}
				religion = religion:buddhism_religion
			}
			add = {
				value = development_level
				multiply = 4
			}
		}
		# Involved Large Minority or Uninvolved Majority: 2 * Dev
		else_if = {
			limit = {
				OR = {
					has_involved_large_minority_faith_trigger = { RELIGION = religion:buddhism_religion }
					AND = {
						NOT = { struggle:indian_struggle = {is_faith_involved_in_struggle = PREV.faith} }
						religion = religion:buddhism_religion
					}
				}
			}
			add = {
				value = development_level
				multiply = 2
			}
		}
		# Involved Small Minority or Uninvolved Large Minority: 1 * Dev
		else_if = {
			limit = {
				OR = {
					has_involved_small_minority_faith_trigger = { RELIGION = religion:buddhism_religion }
					has_uninvolved_large_minority_faith_trigger = { RELIGION = religion:buddhism_religion }
				}
			}
			add = development_level
		}
		else_if = {
			limit = {
				has_uninvolved_small_minority_faith_trigger = { RELIGION = religion:buddhism_religion }
			}
			add = 1
		}
	}
	struggle:indian_struggle = {
		every_involved_ruler = {
			limit = {
				religion = religion:buddhism_religion
				is_independent_ruler = yes
			}
			every_realm_county = {
				limit = { title_province = { geographical_region = india_struggle_region } }
				add = 1
			}
		}
		every_interloper_ruler = {
			limit = {
				religion = religion:buddhism_religion
				is_independent_ruler = yes
			}
			add = {
				value = 0
				every_realm_county = {
					limit = { title_province = { geographical_region = india_struggle_region } }
					add = 1
				}
				divide = 2
			}
		}
	}
}

struggle_india_jainist_score = {
	value = 0
	every_county_in_region = {
		region = india_struggle_region
		# Involved Majority: Dev * 4
		if = {
			limit = {
				struggle:indian_struggle = {is_faith_involved_in_struggle = PREV.faith}
				religion = religion:jainism_religion
			}
			add = {
				value = development_level
				multiply = 4
			}
		}
		# Involved Large Minority or Uninvolved Majority: 2 * Dev
		else_if = {
			limit = {
				OR = {
					has_involved_large_minority_faith_trigger = { RELIGION = religion:jainism_religion }
					AND = {
						NOT = { struggle:indian_struggle = {is_faith_involved_in_struggle = PREV.faith} }
						religion = religion:jainism_religion
					}
				}
			}
			add = {
				value = development_level
				multiply = 2
			}
		}
		# Involved Small Minority or Uninvolved Large Minority: 1 * Dev
		else_if = {
			limit = {
				OR = {
					has_involved_small_minority_faith_trigger = { RELIGION = religion:jainism_religion }
					has_uninvolved_large_minority_faith_trigger = { RELIGION = religion:jainism_religion }
				}
			}
			add = development_level
		}
		else_if = {
			limit = {
				has_uninvolved_small_minority_faith_trigger = { RELIGION = religion:jainism_religion }
			}
			add = 1
		}
	}
	struggle:indian_struggle = {
		every_involved_ruler = {
			limit = {
				religion = religion:jainism_religion
				is_independent_ruler = yes
			}
			every_realm_county = {
				limit = { title_province = { geographical_region = india_struggle_region } }
				add = 1
			}
		}
		every_interloper_ruler = {
			limit = {
				religion = religion:jainism_religion
				is_independent_ruler = yes
			}
			add = {
				value = 0
				every_realm_county = {
					limit = { title_province = { geographical_region = india_struggle_region } }
					add = 1
				}
				divide = 2
			}
		}
	}
}

struggle_india_muslim_score = {
	value = 0
	every_county_in_region = {
		region = india_struggle_region
		# Involved Majority: Dev * 4
		if = {
			limit = {
				struggle:indian_struggle = {is_faith_involved_in_struggle = PREV.faith}
				religion = religion:islam_religion
			}
			add = {
				value = development_level
				multiply = 4
			}
		}
		# Involved Large Minority or Uninvolved Majority: 2 * Dev
		else_if = {
			limit = {
				OR = {
					has_involved_large_minority_faith_trigger = { RELIGION = religion:islam_religion }
					AND = {
						NOT = { struggle:indian_struggle = {is_faith_involved_in_struggle = PREV.faith} }
						religion = religion:islam_religion
					}
				}
			}
			add = {
				value = development_level
				multiply = 2
			}
		}
		# Involved Small Minority or Uninvolved Large Minority: 1 * Dev
		else_if = {
			limit = {
				OR = {
					has_involved_small_minority_faith_trigger = { RELIGION = religion:islam_religion }
					has_uninvolved_large_minority_faith_trigger = { RELIGION = religion:islam_religion }
				}
			}
			add = development_level
		}
		else_if = {
			limit = {
				has_uninvolved_small_minority_faith_trigger = { RELIGION = religion:islam_religion }
			}
			add = 1
		}
	}
	struggle:indian_struggle = {
		every_involved_ruler = {
			limit = {
				religion = religion:islam_religion
				is_independent_ruler = yes
			}
			every_realm_county = {
				limit = { title_province = { geographical_region = india_struggle_region } }
				add = 1
			}
		}
		every_interloper_ruler = {
			limit = {
				religion = religion:islam_religion
				is_independent_ruler = yes
			}
			add = {
				value = 0
				every_realm_county = {
					limit = { title_province = { geographical_region = india_struggle_region } }
					add = 1
				}
				divide = 2
			}
		}
	}
}

struggle_india_indian_pagan_score = {
	value = 0
	every_county_in_region = {
		region = india_struggle_region
		# Involved Majority: Dev * 4
		if = {
			limit = {
				struggle:indian_struggle = {is_faith_involved_in_struggle = PREV.faith}
				religion = religion:indian_religion
			}
			add = {
				value = development_level
				multiply = 4
			}
		}
		# Involved Large Minority or Uninvolved Majority: 2 * Dev
		else_if = {
			limit = {
				OR = {
					has_involved_large_minority_faith_trigger = { RELIGION = religion:indian_religion }
					AND = {
						NOT = { struggle:indian_struggle = {is_faith_involved_in_struggle = PREV.faith} }
						religion = religion:indian_religion
					}
				}
			}
			add = {
				value = development_level
				multiply = 2
			}
		}
		# Involved Small Minority or Uninvolved Large Minority: 1 * Dev
		else_if = {
			limit = {
				OR = {
					has_involved_small_minority_faith_trigger = { RELIGION = religion:indian_religion }
					has_uninvolved_large_minority_faith_trigger = { RELIGION = religion:indian_religion }
				}
			}
			add = development_level
		}
		else_if = {
			limit = {
				has_uninvolved_small_minority_faith_trigger = { RELIGION = religion:indian_religion }
			}
			add = 1
		}
	}
	struggle:indian_struggle = {
		every_involved_ruler = {
			limit = {
				religion = religion:indian_religion
				is_independent_ruler = yes
			}
			every_realm_county = {
				limit = { title_province = { geographical_region = india_struggle_region } }
				add = 1
			}
		}
		every_interloper_ruler = {
			limit = {
				religion = religion:indian_religion
				is_independent_ruler = yes
			}
			add = {
				value = 0
				every_realm_county = {
					limit = { title_province = { geographical_region = india_struggle_region } }
					add = 1
				}
				divide = 2
			}
		}
	}
}

struggle_india_foreign_score = {
	value = 0
	every_county_in_region = {
		region = india_struggle_region
		# Involved Majority: Dev * 4
		if = {
			limit = {
				struggle:indian_struggle = { is_faith_involved_in_struggle = PREV.faith}
				NOR = {
					religion = religion:buddhism_religion
					religion = religion:hinduism_religion
					religion = religion:jainism_religion
					religion = religion:islam_religion
					religion = religion:indian_religion
				}
			}
			add = {
				value = development_level
				multiply = 4
			}
		}
		# Involved Large Minority or Uninvolved Majority: 2 * Dev
		else_if = {
			limit = {
				OR = {
					has_involved_large_minority_faith_trigger = { RELIGION = religion:baltic_religion }
					AND = {
						NOT = { struggle:indian_struggle = {is_faith_involved_in_struggle = PREV.faith} }
						NOR = {
							religion = religion:buddhism_religion
							religion = religion:hinduism_religion
							religion = religion:jainism_religion
							religion = religion:islam_religion
							religion = religion:indian_religion
						}
					}
				}
			}
			add = {
				value = development_level
				multiply = 2
			}
		}
		# Involved Small Minority or Uninvolved Large Minority: 1 * Dev
		else_if = {
			limit = {
				OR = {
					has_involved_small_minority_faith_trigger = { RELIGION = religion:baltic_religion }
					has_uninvolved_large_minority_faith_trigger = { RELIGION = religion:baltic_religion }
				}
			}
			add = development_level
		}
		else_if = {
			limit = {
				has_uninvolved_small_minority_faith_trigger = { RELIGION = religion:baltic_religion }
			}
			add = 1
		}
	}
	struggle:indian_struggle = {
		every_involved_ruler = {
			limit = {
				NOR = {
					religion = religion:buddhism_religion
					religion = religion:hinduism_religion
					religion = religion:jainism_religion
					religion = religion:islam_religion
					religion = religion:indian_religion
				}
				is_independent_ruler = yes
			}
			every_realm_county = {
				limit = { title_province = { geographical_region = india_struggle_region } }
				add = 1
			}
		}
		every_interloper_ruler = {
			limit = {
				NOR = {
					religion = religion:buddhism_religion
					religion = religion:hinduism_religion
					religion = religion:jainism_religion
					religion = religion:islam_religion
					religion = religion:indian_religion
				}
				is_independent_ruler = yes
			}
			add = {
				value = 0
				every_realm_county = {
					limit = { title_province = { geographical_region = india_struggle_region } }
					add = 1
				}
				divide = 2
			}
		}
	}
}

struggle_india_total_score = {
	value = struggle_india_hindu_score
	add = struggle_india_buddhist_score
	add = struggle_india_jainist_score
	add = struggle_india_muslim_score
	add = struggle_india_indian_pagan_score
	add = struggle_india_foreign_score
}

struggle_india_hindu_share = {
	value = struggle_india_hindu_score
	divide = struggle_india_total_score
}

struggle_india_anti_hindu_share = {
	value = 1.0
	subtract = struggle_india_hindu_share
}

struggle_india_buddhist_share = {
	value = struggle_india_buddhist_score
	divide = struggle_india_total_score
}

struggle_india_anti_buddhist_share = {
	value = 1.0
	subtract = struggle_india_buddhist_share
}

struggle_india_jainist_share = {
	value = struggle_india_jainist_score
	divide = struggle_india_total_score
}

struggle_india_anti_jainist_share = {
	value = 1.0
	subtract = struggle_india_jainist_share
}

struggle_india_muslim_share = {
	value = struggle_india_muslim_score
	divide = struggle_india_total_score
}

struggle_india_anti_muslim_share = {
	value = 1.0
	subtract = struggle_india_muslim_share
}

struggle_india_indian_pagan_share = {
	value = struggle_india_indian_pagan_score
	divide = struggle_india_total_score
}

struggle_india_anti_indian_pagan_share = {
	value = 1.0
	subtract = struggle_india_indian_pagan_share
}

struggle_india_foreign_share = {
	value = struggle_india_foreign_score
	divide = struggle_india_total_score
}

struggle_india_anti_foreign_share = {
	value = 1.0
	subtract = struggle_india_foreign_share
}

# Truce Durations (override vanilla)
## Since we want these to work out to nice, even numbers, we calc them manually rather than use multipliers.
standard_truce_duration_days = {
	value = 1825
	# Deductions.
	## Flexible truces perk.
	if = {
		limit = {
			scope:attacker = { has_perk = flexible_truces_perk }
		}
		add = -450
	}
	## Certain struggle phases.
	if = {
		limit = {
			scope:attacker = {
				any_character_struggle = {
					is_struggle_parameter_active_secondary_character_involvement_either_trigger = {
						PARAMETER = truces_by_involved_or_interlopers_within_region_shorter
						CHAR = scope:defender
					}
				}
			}
		}
		add = -900
	}
	if = {
		limit = {
			scope:attacker = {
				any_character_struggle = {
					is_struggle_parameter_active_secondary_character_involvement_either_trigger = {
						PARAMETER = truces_by_involved_or_interlopers_within_region_longer
						CHAR = scope:defender
					}
				}
			}
		}
		add = 900
	}
	# Indian Struggle: During Dominance, non-dominant religions have a shorter truce against other religions
	if = {
		limit = {
			scope:attacker = {
				is_dominant_religion = no
				any_character_struggle = {
					is_struggle_parameter_active_secondary_character_involvement_either_trigger = {
						PARAMETER = india_nondominant_common_infidel_short_truces
						CHAR = scope:defender
					}
				}
				NOT = { religion = scope:defender.religion }
			}
		}
		add = -900
	}
	# A truce should at least give a 2-year breather.
	min = 730
	if = {
		limit = {
			scope:attacker = {
				any_character_war = {
					primary_attacker = scope:attacker
					primary_defender = scope:defender
					using_cb = fp2_border_raid
				}
			}
		}
		multiply = 2
	}
}

grand_trunk_cost = {
	value = 10
	every_realm_county = {
		desc = ""
		limit = {
			title_province = {geographical_region = custom_grand_trunk_road}
		}
		add = 1
		if = {
			limit = { county_control <= high_county_control_limit }
			add = 1
		}
		if = {
			limit = { county_control <= low_county_control_limit }
			add = 1
		}
		every_county_province = {
			limit = { has_holding = no }
			add = 1
		}
	}
	if = {
		limit = { dynasty = { has_dynasty_modifier = india_grand_trunk_protectors } }
		value = 0
	}
}